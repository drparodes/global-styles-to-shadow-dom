<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Conversor CSS → Shadow DOM Preciso</title>
<style>
body{font-family:sans-serif;padding:20px;background:#121212;color:#fff;}
textarea{width:100%;height:300px;margin-bottom:10px;background:#1e1e1e;color:#fff;border:1px solid #333;padding:10px;resize:vertical;}
button{padding:10px 20px;margin-bottom:10px;cursor:pointer;}
output{display:block;white-space:pre-wrap;background:#1e1e1e;padding:10px;border:1px solid #333;color:#fff;max-height:400px;overflow:auto;}
</style>
</head>
<body>
<h1>Conversor CSS → Shadow DOM</h1>
<p>Cole seu CSS abaixo e clique em "Converter":</p>
<textarea id="inputCSS" placeholder="Cole seu CSS aqui..."></textarea>
<br>
<button id="convertBtn">Converter</button>
<h2>CSS pronto para Shadow DOM:</h2>
<output id="outputCSS"></output>

<script>
function convertCSSForShadowDOM(css) {
  // Regex poderosa:
  // 1. Procura .Nome#Id ou tag.Classe#Id
  // 2. Preserva espaços, pseudo-classes, pseudo-elementos, combinadores
  // 3. Substitui .Classe#Id por [class="Classe#Id"]
  return css.replace(/([a-zA-Z0-9_\-]*\.)(([a-zA-Z0-9_\-]+#[a-zA-Z0-9_\-]+))/g, (match, prefix, cls) => {
    return prefix + `[class="${cls}"]`;
  });
}

document.getElementById('convertBtn').addEventListener('click', () => {
  let css = document.getElementById('inputCSS').value;
  let converted = convertCSSForShadowDOM(css);
  document.getElementById('outputCSS').textContent = converted;
});
</script>
</body>
</html>
